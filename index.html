<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="stylesheet" href="assets/css/materialize.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="assets/js/materialize.min.js"></script>
        <script src="assets/js/wordFinder.js"></script>
    </head>
    <body class="grey lighten-5">
        <div class="container" style="margin-top: 2em;">
            <div class="row">
                <input type="text" id="inputElement" class="col s12" autofocus placeholder="Wprowadź wartość | Enter value | ??" />
            </div>
            <div class="row">
                <p class="col s4 center-align">
                    <input type="radio" id="pl" name="lang" value="PL" checked/>
                    <label for="pl">PL</label>
                </p>
                <p class="col s4 center-align">
                    <input type="radio" id="cz" name="lang" value="CZ" />
                    <label for="cz">CZ</label>
                </p>
                <p class="col s4 center-align">
                    <input type="radio" id="en" name="lang" value="EN" />
                    <label for="en">EN</label>
                </p>
            </div>
            <div class="row">
                <div class="col s12 center-align">
                    <button class="btn-floating btn-large indigo center-align" id="triggerButton">
                        <i class="material-icons">search</i>
                    </button>
                </div>
            </div>
            <div class="row">
                <span id="resultElement"></span>
            </div>
            <div id="list" class="row"></div>
        </div>
        <script>
        fetch("assets/db.json")
            .then(function(response) {
                return response.json();
            })
            .then(function(data) {
                let inputElement = document.getElementById('inputElement');
                let langCollection = document.querySelectorAll('input[name="lang"]');
                let list = document.getElementById('list');
                let resultElement = document.getElementById('resultElement');
                let triggerButton = document.getElementById('triggerButton');

                let wordFinder = new WordFinder(langCollection, inputElement, resultElement, data, list);
                triggerButton.onclick = function(e) { wordFinder.renderMatch() };

                /* 
                TODO:
                    Admin panel
                    Edycja
                    Dodawanie
                    Usuwanie
                */
            })
            .catch(console.error);
        </script>
    </body>
</html>